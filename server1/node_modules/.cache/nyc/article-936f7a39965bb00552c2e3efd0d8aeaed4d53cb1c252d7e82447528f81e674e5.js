function cov_12vrm02vp2(){var path="C:\\Users\\USER\\Desktop\\andela new\\potofolioUpdate6\\server1\\controllers\\article.js";var hash="2a7305bca74f0162dad9a9d857ce7fa431d0b37e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\USER\\Desktop\\andela new\\potofolioUpdate6\\server1\\controllers\\article.js",statementMap:{"0":{start:{line:3,column:17},end:{line:3,column:46}},"1":{start:{line:6,column:22},end:{line:13,column:1}},"2":{start:{line:7,column:4},end:{line:12,column:6}},"3":{start:{line:8,column:8},end:{line:10,column:9}},"4":{start:{line:9,column:12},end:{line:9,column:42}},"5":{start:{line:11,column:8},end:{line:11,column:30}},"6":{start:{line:16,column:20},end:{line:40,column:1}},"7":{start:{line:17,column:2},end:{line:39,column:6}},"8":{start:{line:20,column:8},end:{line:38,column:9}},"9":{start:{line:22,column:32},end:{line:27,column:14}},"10":{start:{line:30,column:12},end:{line:33,column:14}},"11":{start:{line:31,column:16},end:{line:31,column:54}},"12":{start:{line:31,column:24},end:{line:31,column:54}},"13":{start:{line:32,column:16},end:{line:32,column:38}},"14":{start:{line:36,column:12},end:{line:36,column:86}},"15":{start:{line:36,column:20},end:{line:36,column:86}},"16":{start:{line:37,column:12},end:{line:37,column:64}},"17":{start:{line:45,column:22},end:{line:55,column:1}},"18":{start:{line:46,column:16},end:{line:46,column:32}},"19":{start:{line:49,column:4},end:{line:54,column:7}},"20":{start:{line:50,column:4},end:{line:53,column:31}},"21":{start:{line:51,column:8},end:{line:51,column:61}},"22":{start:{line:53,column:9},end:{line:53,column:31}},"23":{start:{line:58,column:25},end:{line:69,column:1}},"24":{start:{line:59,column:16},end:{line:59,column:32}},"25":{start:{line:61,column:4},end:{line:68,column:7}},"26":{start:{line:63,column:4},end:{line:67,column:56}},"27":{start:{line:63,column:32},end:{line:63,column:85}},"28":{start:{line:65,column:9},end:{line:67,column:56}},"29":{start:{line:65,column:18},end:{line:65,column:84}},"30":{start:{line:67,column:9},end:{line:67,column:56}},"31":{start:{line:72,column:19},end:{line:97,column:3}},"32":{start:{line:73,column:16},end:{line:73,column:32}},"33":{start:{line:74,column:21},end:{line:74,column:38}},"34":{start:{line:76,column:21},end:{line:79,column:5}},"35":{start:{line:81,column:4},end:{line:96,column:6}},"36":{start:{line:82,column:8},end:{line:95,column:9}},"37":{start:{line:83,column:12},end:{line:83,column:65}},"38":{start:{line:87,column:12},end:{line:87,column:41}},"39":{start:{line:89,column:12},end:{line:94,column:14}},"40":{start:{line:90,column:16},end:{line:92,column:17}},"41":{start:{line:91,column:16},end:{line:91,column:80}},"42":{start:{line:93,column:16},end:{line:93,column:38}},"43":{start:{line:100,column:13},end:{line:125,column:3}},"44":{start:{line:101,column:16},end:{line:101,column:32}},"45":{start:{line:102,column:19},end:{line:102,column:33}},"46":{start:{line:104,column:17},end:{line:107,column:5}},"47":{start:{line:109,column:4},end:{line:124,column:6}},"48":{start:{line:110,column:8},end:{line:123,column:9}},"49":{start:{line:111,column:12},end:{line:111,column:65}},"50":{start:{line:115,column:12},end:{line:115,column:34}},"51":{start:{line:117,column:12},end:{line:122,column:14}},"52":{start:{line:118,column:16},end:{line:120,column:17}},"53":{start:{line:119,column:16},end:{line:119,column:80}},"54":{start:{line:121,column:16},end:{line:121,column:38}},"55":{start:{line:129,column:19},end:{line:145,column:5}},"56":{start:{line:130,column:4},end:{line:130,column:32}},"57":{start:{line:131,column:7},end:{line:144,column:6}},"58":{start:{line:139,column:8},end:{line:139,column:55}},"59":{start:{line:142,column:8},end:{line:142,column:27}},"60":{start:{line:143,column:8},end:{line:143,column:41}},"61":{start:{line:147,column:0},end:{line:157,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:22},end:{line:6,column:23}},loc:{start:{line:6,column:35},end:{line:13,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:7,column:22},end:{line:7,column:23}},loc:{start:{line:7,column:35},end:{line:12,column:5}},line:7},"2":{name:"(anonymous_2)",decl:{start:{line:16,column:20},end:{line:16,column:21}},loc:{start:{line:16,column:34},end:{line:40,column:1}},line:16},"3":{name:"(anonymous_3)",decl:{start:{line:17,column:46},end:{line:17,column:47}},loc:{start:{line:17,column:61},end:{line:39,column:5}},line:17},"4":{name:"(anonymous_4)",decl:{start:{line:30,column:29},end:{line:30,column:30}},loc:{start:{line:30,column:42},end:{line:33,column:13}},line:30},"5":{name:"(anonymous_5)",decl:{start:{line:45,column:22},end:{line:45,column:23}},loc:{start:{line:45,column:36},end:{line:55,column:1}},line:45},"6":{name:"(anonymous_6)",decl:{start:{line:49,column:36},end:{line:49,column:37}},loc:{start:{line:49,column:51},end:{line:54,column:5}},line:49},"7":{name:"(anonymous_7)",decl:{start:{line:58,column:25},end:{line:58,column:26}},loc:{start:{line:58,column:39},end:{line:69,column:1}},line:58},"8":{name:"(anonymous_8)",decl:{start:{line:61,column:38},end:{line:61,column:39}},loc:{start:{line:61,column:53},end:{line:68,column:5}},line:61},"9":{name:"(anonymous_9)",decl:{start:{line:72,column:19},end:{line:72,column:20}},loc:{start:{line:72,column:33},end:{line:97,column:3}},line:72},"10":{name:"(anonymous_10)",decl:{start:{line:81,column:36},end:{line:81,column:37}},loc:{start:{line:81,column:51},end:{line:96,column:5}},line:81},"11":{name:"(anonymous_11)",decl:{start:{line:89,column:22},end:{line:89,column:23}},loc:{start:{line:89,column:29},end:{line:94,column:13}},line:89},"12":{name:"(anonymous_12)",decl:{start:{line:100,column:13},end:{line:100,column:14}},loc:{start:{line:100,column:27},end:{line:125,column:3}},line:100},"13":{name:"(anonymous_13)",decl:{start:{line:109,column:36},end:{line:109,column:37}},loc:{start:{line:109,column:51},end:{line:124,column:5}},line:109},"14":{name:"(anonymous_14)",decl:{start:{line:117,column:22},end:{line:117,column:23}},loc:{start:{line:117,column:29},end:{line:122,column:13}},line:117},"15":{name:"(anonymous_15)",decl:{start:{line:129,column:19},end:{line:129,column:20}},loc:{start:{line:129,column:33},end:{line:145,column:5}},line:129},"16":{name:"(anonymous_16)",decl:{start:{line:138,column:13},end:{line:138,column:14}},loc:{start:{line:138,column:21},end:{line:141,column:5}},line:138},"17":{name:"(anonymous_17)",decl:{start:{line:141,column:13},end:{line:141,column:14}},loc:{start:{line:141,column:18},end:{line:144,column:5}},line:141}},branchMap:{"0":{loc:{start:{line:8,column:8},end:{line:10,column:9}},type:"if",locations:[{start:{line:8,column:8},end:{line:10,column:9}},{start:{line:8,column:8},end:{line:10,column:9}}],line:8},"1":{loc:{start:{line:20,column:8},end:{line:38,column:9}},type:"if",locations:[{start:{line:20,column:8},end:{line:38,column:9}},{start:{line:20,column:8},end:{line:38,column:9}}],line:20},"2":{loc:{start:{line:31,column:16},end:{line:31,column:54}},type:"if",locations:[{start:{line:31,column:16},end:{line:31,column:54}},{start:{line:31,column:16},end:{line:31,column:54}}],line:31},"3":{loc:{start:{line:36,column:12},end:{line:36,column:86}},type:"if",locations:[{start:{line:36,column:12},end:{line:36,column:86}},{start:{line:36,column:12},end:{line:36,column:86}}],line:36},"4":{loc:{start:{line:50,column:4},end:{line:53,column:31}},type:"if",locations:[{start:{line:50,column:4},end:{line:53,column:31}},{start:{line:50,column:4},end:{line:53,column:31}}],line:50},"5":{loc:{start:{line:50,column:7},end:{line:50,column:19}},type:"binary-expr",locations:[{start:{line:50,column:7},end:{line:50,column:10}},{start:{line:50,column:14},end:{line:50,column:19}}],line:50},"6":{loc:{start:{line:63,column:4},end:{line:67,column:56}},type:"if",locations:[{start:{line:63,column:4},end:{line:67,column:56}},{start:{line:63,column:4},end:{line:67,column:56}}],line:63},"7":{loc:{start:{line:65,column:9},end:{line:67,column:56}},type:"if",locations:[{start:{line:65,column:9},end:{line:67,column:56}},{start:{line:65,column:9},end:{line:67,column:56}}],line:65},"8":{loc:{start:{line:82,column:8},end:{line:95,column:9}},type:"if",locations:[{start:{line:82,column:8},end:{line:95,column:9}},{start:{line:82,column:8},end:{line:95,column:9}}],line:82},"9":{loc:{start:{line:82,column:11},end:{line:82,column:38}},type:"binary-expr",locations:[{start:{line:82,column:11},end:{line:82,column:14}},{start:{line:82,column:18},end:{line:82,column:23}},{start:{line:82,column:27},end:{line:82,column:38}}],line:82},"10":{loc:{start:{line:90,column:16},end:{line:92,column:17}},type:"if",locations:[{start:{line:90,column:16},end:{line:92,column:17}},{start:{line:90,column:16},end:{line:92,column:17}}],line:90},"11":{loc:{start:{line:110,column:8},end:{line:123,column:9}},type:"if",locations:[{start:{line:110,column:8},end:{line:123,column:9}},{start:{line:110,column:8},end:{line:123,column:9}}],line:110},"12":{loc:{start:{line:110,column:11},end:{line:110,column:38}},type:"binary-expr",locations:[{start:{line:110,column:11},end:{line:110,column:14}},{start:{line:110,column:18},end:{line:110,column:23}},{start:{line:110,column:27},end:{line:110,column:38}}],line:110},"13":{loc:{start:{line:118,column:16},end:{line:120,column:17}},type:"if",locations:[{start:{line:118,column:16},end:{line:120,column:17}},{start:{line:118,column:16},end:{line:120,column:17}}],line:118}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0],"10":[0,0],"11":[0,0],"12":[0,0,0],"13":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2a7305bca74f0162dad9a9d857ce7fa431d0b37e"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_12vrm02vp2=function(){return actualCoverage;};}return actualCoverage;}cov_12vrm02vp2();const articles=(cov_12vrm02vp2().s[0]++,require('../models/articles'));//GET all queries
cov_12vrm02vp2().s[1]++;const getAllArticles=(req,res)=>{cov_12vrm02vp2().f[0]++;cov_12vrm02vp2().s[2]++;articles.find({},(err,data)=>{cov_12vrm02vp2().f[1]++;cov_12vrm02vp2().s[3]++;if(err){cov_12vrm02vp2().b[0][0]++;cov_12vrm02vp2().s[4]++;return res.json({Error:err});}else{cov_12vrm02vp2().b[0][1]++;}cov_12vrm02vp2().s[5]++;return res.json(data);});};//POST queries
cov_12vrm02vp2().s[6]++;const newArticles=(req,res)=>{cov_12vrm02vp2().f[2]++;cov_12vrm02vp2().s[7]++;articles.findOne({title:req.body.title},(err,data)=>{cov_12vrm02vp2().f[3]++;cov_12vrm02vp2().s[8]++;//if query not in db, add it
if(!data){cov_12vrm02vp2().b[1][0]++;//create a new tea object using the Tea model and req.body
const newArticles=(cov_12vrm02vp2().s[9]++,new articles({img:req.body.img,title:req.body.title,author:req.body.author,articleBody:req.body.articleBody}));// save this object to database
cov_12vrm02vp2().s[10]++;newArticles.save((err,data)=>{cov_12vrm02vp2().f[4]++;cov_12vrm02vp2().s[11]++;if(err){cov_12vrm02vp2().b[2][0]++;cov_12vrm02vp2().s[12]++;return res.json({Error:err});}else{cov_12vrm02vp2().b[2][1]++;}cov_12vrm02vp2().s[13]++;return res.json(data);});//if there's an error or the tea is in db, return a message         
}else{cov_12vrm02vp2().b[1][1]++;cov_12vrm02vp2().s[14]++;if(err){cov_12vrm02vp2().b[3][0]++;cov_12vrm02vp2().s[15]++;return res.json(`Something went wrong, please try again. ${err}`);}else{cov_12vrm02vp2().b[3][1]++;}cov_12vrm02vp2().s[16]++;return res.json({message:"article already exists"});}});};//GET '//:name'
cov_12vrm02vp2().s[17]++;const getOneArticle=(req,res)=>{cov_12vrm02vp2().f[5]++;let title=(cov_12vrm02vp2().s[18]++,req.params.title);//get the tea name
//find the specific tea with that name
cov_12vrm02vp2().s[19]++;articles.findOne({title:title},(err,data)=>{cov_12vrm02vp2().f[6]++;cov_12vrm02vp2().s[20]++;if((cov_12vrm02vp2().b[5][0]++,err)||(cov_12vrm02vp2().b[5][1]++,!data)){cov_12vrm02vp2().b[4][0]++;cov_12vrm02vp2().s[21]++;return res.json({message:"article doesn't exist."});}else{cov_12vrm02vp2().b[4][1]++;cov_12vrm02vp2().s[22]++;return res.json(data);}//return the tea object if found
});};//DELETE 1 article
cov_12vrm02vp2().s[23]++;const deleteOneArticle=(req,res)=>{cov_12vrm02vp2().f[7]++;let title=(cov_12vrm02vp2().s[24]++,req.params.title);cov_12vrm02vp2().s[25]++;articles.deleteOne({title:title},(err,data)=>{cov_12vrm02vp2().f[8]++;cov_12vrm02vp2().s[26]++;//if there's nothing to delete return a message
if(data.deletedCount==0){cov_12vrm02vp2().b[6][0]++;cov_12vrm02vp2().s[27]++;return res.json({message:"article doesn't exist."});}//else if there's an error, return the err message
else{cov_12vrm02vp2().b[6][1]++;cov_12vrm02vp2().s[28]++;if(err){cov_12vrm02vp2().b[7][0]++;cov_12vrm02vp2().s[29]++;return res.json(`Something went wrong, please try again. ${err}`);}//else, return the success message
else{cov_12vrm02vp2().b[7][1]++;cov_12vrm02vp2().s[30]++;return res.json({message:"article deleted."});}}});};//POST 1 article comment
cov_12vrm02vp2().s[31]++;const newComment=(req,res)=>{cov_12vrm02vp2().f[9]++;let title=(cov_12vrm02vp2().s[32]++,req.params.title);let newComment=(cov_12vrm02vp2().s[33]++,req.body.comments);//get the comment
//create a comment object to push
const comments=(cov_12vrm02vp2().s[34]++,{text:newComment,date:new Date()});//find the article object
cov_12vrm02vp2().s[35]++;articles.findOne({title:title},(err,data)=>{cov_12vrm02vp2().f[10]++;cov_12vrm02vp2().s[36]++;if((cov_12vrm02vp2().b[9][0]++,err)||(cov_12vrm02vp2().b[9][1]++,!data)||(cov_12vrm02vp2().b[9][2]++,!newComment)){cov_12vrm02vp2().b[8][0]++;cov_12vrm02vp2().s[37]++;return res.json({message:"article doesn't exist."});}else{cov_12vrm02vp2().b[8][1]++;cov_12vrm02vp2().s[38]++;//add comment to comments array of the  object
data.comments.push(comments);//save changes to db
cov_12vrm02vp2().s[39]++;data.save(err=>{cov_12vrm02vp2().f[11]++;cov_12vrm02vp2().s[40]++;if(err){cov_12vrm02vp2().b[10][0]++;cov_12vrm02vp2().s[41]++;return res.json({message:"Comment failed to add.",error:err});}else{cov_12vrm02vp2().b[10][1]++;}cov_12vrm02vp2().s[42]++;return res.json(data);});}});};//POST 1 article comment
cov_12vrm02vp2().s[43]++;const likes=(req,res)=>{cov_12vrm02vp2().f[12]++;let title=(cov_12vrm02vp2().s[44]++,req.params.title);//get the tea to add the comment in
let newLikes=(cov_12vrm02vp2().s[45]++,req.body.likes);//get the comment
//create a comment object to push
const like=(cov_12vrm02vp2().s[46]++,{text:newLikes,date:new Date()});//find the article object
cov_12vrm02vp2().s[47]++;articles.findOne({title:title},(err,data)=>{cov_12vrm02vp2().f[13]++;cov_12vrm02vp2().s[48]++;if((cov_12vrm02vp2().b[12][0]++,err)||(cov_12vrm02vp2().b[12][1]++,!data)||(cov_12vrm02vp2().b[12][2]++,!newComment)){cov_12vrm02vp2().b[11][0]++;cov_12vrm02vp2().s[49]++;return res.json({message:"article doesn't exist."});}else{cov_12vrm02vp2().b[11][1]++;cov_12vrm02vp2().s[50]++;//add comment to comments array of the  object
data.likes.push(like);//save changes to db
cov_12vrm02vp2().s[51]++;data.save(err=>{cov_12vrm02vp2().f[14]++;cov_12vrm02vp2().s[52]++;if(err){cov_12vrm02vp2().b[13][0]++;cov_12vrm02vp2().s[53]++;return res.json({message:"Comment failed to add.",error:err});}else{cov_12vrm02vp2().b[13][1]++;}cov_12vrm02vp2().s[54]++;return res.json(data);});}});};cov_12vrm02vp2().s[55]++;const newUpdates=(req,res)=>{cov_12vrm02vp2().f[15]++;cov_12vrm02vp2().s[56]++;console.log(req.params._id);cov_12vrm02vp2().s[57]++;articles.findByIdAndUpdate({_id:req.params._id},{$set:{img:req.body.img,title:req.body.title,author:req.body.author,articleBody:req.body.articleBody}}).then(result=>{cov_12vrm02vp2().f[16]++;cov_12vrm02vp2().s[58]++;res.status(200).json({updated_articles:result});}).catch(err=>{cov_12vrm02vp2().f[17]++;cov_12vrm02vp2().s[59]++;console.error(err);cov_12vrm02vp2().s[60]++;res.status(500).json({error:err});});};//export controller functions
cov_12vrm02vp2().s[61]++;module.exports={getAllArticles,newArticles,getOneArticle,deleteOneArticle,newComment,likes,newUpdates};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFydGljbGUuanMiXSwibmFtZXMiOlsiYXJ0aWNsZXMiLCJyZXF1aXJlIiwiZ2V0QWxsQXJ0aWNsZXMiLCJyZXEiLCJyZXMiLCJmaW5kIiwiZXJyIiwiZGF0YSIsImpzb24iLCJFcnJvciIsIm5ld0FydGljbGVzIiwiZmluZE9uZSIsInRpdGxlIiwiYm9keSIsImltZyIsImF1dGhvciIsImFydGljbGVCb2R5Iiwic2F2ZSIsIm1lc3NhZ2UiLCJnZXRPbmVBcnRpY2xlIiwicGFyYW1zIiwiZGVsZXRlT25lQXJ0aWNsZSIsImRlbGV0ZU9uZSIsImRlbGV0ZWRDb3VudCIsIm5ld0NvbW1lbnQiLCJjb21tZW50cyIsInRleHQiLCJkYXRlIiwiRGF0ZSIsInB1c2giLCJlcnJvciIsImxpa2VzIiwibmV3TGlrZXMiLCJsaWtlIiwibmV3VXBkYXRlcyIsImNvbnNvbGUiLCJsb2ciLCJfaWQiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIiRzZXQiLCJ0aGVuIiwicmVzdWx0Iiwic3RhdHVzIiwidXBkYXRlZF9hcnRpY2xlcyIsImNhdGNoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IitxVUFlWTsyRkFiWixLQUFNQSxDQUFBQSxRQUFRLDBCQUFHQyxPQUFPLENBQUMsb0JBQUQsQ0FBVixDQUFkLENBRUE7d0JBQ0EsS0FBTUMsQ0FBQUEsY0FBYyxDQUFFLENBQUNDLEdBQUQsQ0FBS0MsR0FBTCxHQUFhLGlEQUMvQkosUUFBUSxDQUFDSyxJQUFULENBQWMsRUFBZCxDQUFrQixDQUFDQyxHQUFELENBQU1DLElBQU4sR0FBYSxpREFDM0IsR0FBSUQsR0FBSixDQUFRLG9EQUNKLE1BQU9GLENBQUFBLEdBQUcsQ0FBQ0ksSUFBSixDQUFTLENBQUNDLEtBQUssQ0FBRUgsR0FBUixDQUFULENBQVAsQ0FDSCxDQUZELGlDQUQyQix3QkFJM0IsTUFBT0YsQ0FBQUEsR0FBRyxDQUFDSSxJQUFKLENBQVNELElBQVQsQ0FBUCxDQUNILENBTEQsRUFNSCxDQVBELENBU0E7d0JB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ZEUsZ0JBSmMsQ0FLYkcsVUFMYSxDQU1iTyxLQU5hLENBT2JHLFVBUGEsQ0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbmNvbnN0IGFydGljbGVzID0gcmVxdWlyZSgnLi4vbW9kZWxzL2FydGljbGVzJyk7XHJcblxyXG4vL0dFVCBhbGwgcXVlcmllc1xyXG5jb25zdCBnZXRBbGxBcnRpY2xlcyA9KHJlcSxyZXMpID0+IHtcclxuICAgIGFydGljbGVzLmZpbmQoe30sIChlcnIsIGRhdGEpPT57XHJcbiAgICAgICAgaWYgKGVycil7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbih7RXJyb3I6IGVycn0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oZGF0YSk7XHJcbiAgICB9KVxyXG59O1xyXG5cclxuLy9QT1NUIHF1ZXJpZXNcclxuY29uc3QgbmV3QXJ0aWNsZXMgPSAocmVxLCByZXMpID0+IHtcclxuICBhcnRpY2xlcy5maW5kT25lKHsgdGl0bGU6IHJlcS5ib2R5LnRpdGxlIH0sIChlcnIsIGRhdGEpID0+IHtcclxuXHJcbiAgICAgICAgLy9pZiBxdWVyeSBub3QgaW4gZGIsIGFkZCBpdFxyXG4gICAgICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgICAgICAvL2NyZWF0ZSBhIG5ldyB0ZWEgb2JqZWN0IHVzaW5nIHRoZSBUZWEgbW9kZWwgYW5kIHJlcS5ib2R5XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FydGljbGVzID0gbmV3IGFydGljbGVzKHtcclxuICAgICAgICAgICAgICAgIGltZzpyZXEuYm9keS5pbWcsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTpyZXEuYm9keS50aXRsZSxcclxuICAgICAgICAgICAgICAgIGF1dGhvcjpyZXEuYm9keS5hdXRob3IsXHJcbiAgICAgICAgICAgICAgICBhcnRpY2xlQm9keTpyZXEuYm9keS5hcnRpY2xlQm9keSwgICBcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC8vIHNhdmUgdGhpcyBvYmplY3QgdG8gZGF0YWJhc2VcclxuICAgICAgICAgICAgbmV3QXJ0aWNsZXMuc2F2ZSgoZXJyLCBkYXRhKT0+e1xyXG4gICAgICAgICAgICAgICAgaWYoZXJyKSByZXR1cm4gcmVzLmpzb24oe0Vycm9yOiBlcnJ9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbihkYXRhKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAvL2lmIHRoZXJlJ3MgYW4gZXJyb3Igb3IgdGhlIHRlYSBpcyBpbiBkYiwgcmV0dXJuIGEgbWVzc2FnZSAgICAgICAgIFxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBpZihlcnIpIHJldHVybiByZXMuanNvbihgU29tZXRoaW5nIHdlbnQgd3JvbmcsIHBsZWFzZSB0cnkgYWdhaW4uICR7ZXJyfWApO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe21lc3NhZ2U6XCJhcnRpY2xlIGFscmVhZHkgZXhpc3RzXCJ9KTtcclxuICAgICAgICB9XHJcbiAgICB9KSAgICBcclxufTtcclxuXHJcblxyXG5cclxuLy9HRVQgJy8vOm5hbWUnXHJcbmNvbnN0IGdldE9uZUFydGljbGUgPSAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCB0aXRsZSA9IHJlcS5wYXJhbXMudGl0bGU7IC8vZ2V0IHRoZSB0ZWEgbmFtZVxyXG5cclxuICAgIC8vZmluZCB0aGUgc3BlY2lmaWMgdGVhIHdpdGggdGhhdCBuYW1lXHJcbiAgICBhcnRpY2xlcy5maW5kT25lKHt0aXRsZTp0aXRsZX0sIChlcnIsIGRhdGEpID0+IHtcclxuICAgIGlmKGVyciB8fCAhZGF0YSkge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbih7bWVzc2FnZTogXCJhcnRpY2xlIGRvZXNuJ3QgZXhpc3QuXCJ9KTtcclxuICAgIH1cclxuICAgIGVsc2UgcmV0dXJuIHJlcy5qc29uKGRhdGEpOyAvL3JldHVybiB0aGUgdGVhIG9iamVjdCBpZiBmb3VuZFxyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vL0RFTEVURSAxIGFydGljbGVcclxuY29uc3QgZGVsZXRlT25lQXJ0aWNsZSA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IHRpdGxlID0gcmVxLnBhcmFtcy50aXRsZTsgXHJcblxyXG4gICAgYXJ0aWNsZXMuZGVsZXRlT25lKHt0aXRsZTp0aXRsZX0sIChlcnIsIGRhdGEpID0+IHtcclxuICAgIC8vaWYgdGhlcmUncyBub3RoaW5nIHRvIGRlbGV0ZSByZXR1cm4gYSBtZXNzYWdlXHJcbiAgICBpZiggZGF0YS5kZWxldGVkQ291bnQgPT0gMCkgcmV0dXJuIHJlcy5qc29uKHttZXNzYWdlOiBcImFydGljbGUgZG9lc24ndCBleGlzdC5cIn0pO1xyXG4gICAgLy9lbHNlIGlmIHRoZXJlJ3MgYW4gZXJyb3IsIHJldHVybiB0aGUgZXJyIG1lc3NhZ2VcclxuICAgIGVsc2UgaWYgKGVycikgcmV0dXJuIHJlcy5qc29uKGBTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHRyeSBhZ2Fpbi4gJHtlcnJ9YCk7XHJcbiAgICAvL2Vsc2UsIHJldHVybiB0aGUgc3VjY2VzcyBtZXNzYWdlXHJcbiAgICBlbHNlIHJldHVybiByZXMuanNvbih7bWVzc2FnZTogXCJhcnRpY2xlIGRlbGV0ZWQuXCJ9KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy9QT1NUIDEgYXJ0aWNsZSBjb21tZW50XHJcbmNvbnN0IG5ld0NvbW1lbnQgPSAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCB0aXRsZSA9IHJlcS5wYXJhbXMudGl0bGU7IFxyXG4gICAgbGV0IG5ld0NvbW1lbnQgPSByZXEuYm9keS5jb21tZW50czsgLy9nZXQgdGhlIGNvbW1lbnRcclxuICAgIC8vY3JlYXRlIGEgY29tbWVudCBvYmplY3QgdG8gcHVzaFxyXG4gICAgY29uc3QgY29tbWVudHMgPSB7XHJcbiAgICAgICAgdGV4dDogbmV3Q29tbWVudCxcclxuICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpXHJcbiAgICB9XHJcbiAgICAvL2ZpbmQgdGhlIGFydGljbGUgb2JqZWN0XHJcbiAgICBhcnRpY2xlcy5maW5kT25lKHt0aXRsZTp0aXRsZX0sIChlcnIsIGRhdGEpID0+IHtcclxuICAgICAgICBpZihlcnIgfHwgIWRhdGEgfHwgIW5ld0NvbW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKHttZXNzYWdlOiBcImFydGljbGUgZG9lc24ndCBleGlzdC5cIn0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy9hZGQgY29tbWVudCB0byBjb21tZW50cyBhcnJheSBvZiB0aGUgIG9iamVjdFxyXG4gICAgICAgICAgICBkYXRhLmNvbW1lbnRzLnB1c2goY29tbWVudHMpO1xyXG4gICAgICAgICAgICAvL3NhdmUgY2hhbmdlcyB0byBkYlxyXG4gICAgICAgICAgICBkYXRhLnNhdmUoZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHsgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe21lc3NhZ2U6IFwiQ29tbWVudCBmYWlsZWQgdG8gYWRkLlwiLCBlcnJvcjplcnJ9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbihkYXRhKTtcclxuICAgICAgICAgICAgfSkgIFxyXG4gICAgICAgIH0gXHJcbiAgICB9KVxyXG4gIH07XHJcbiAgXHJcbi8vUE9TVCAxIGFydGljbGUgY29tbWVudFxyXG5jb25zdCBsaWtlcz0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgdGl0bGUgPSByZXEucGFyYW1zLnRpdGxlOyAvL2dldCB0aGUgdGVhIHRvIGFkZCB0aGUgY29tbWVudCBpblxyXG4gICAgbGV0IG5ld0xpa2VzID0gcmVxLmJvZHkubGlrZXM7IC8vZ2V0IHRoZSBjb21tZW50XHJcbiAgICAvL2NyZWF0ZSBhIGNvbW1lbnQgb2JqZWN0IHRvIHB1c2hcclxuICAgIGNvbnN0IGxpa2UgPSB7XHJcbiAgICAgICAgdGV4dDogbmV3TGlrZXMsXHJcbiAgICAgICAgZGF0ZTogbmV3IERhdGUoKVxyXG4gICAgfVxyXG4gICAgLy9maW5kIHRoZSBhcnRpY2xlIG9iamVjdFxyXG4gICAgYXJ0aWNsZXMuZmluZE9uZSh7dGl0bGU6dGl0bGV9LCAoZXJyLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgaWYoZXJyIHx8ICFkYXRhIHx8ICFuZXdDb21tZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbih7bWVzc2FnZTogXCJhcnRpY2xlIGRvZXNuJ3QgZXhpc3QuXCJ9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vYWRkIGNvbW1lbnQgdG8gY29tbWVudHMgYXJyYXkgb2YgdGhlICBvYmplY3RcclxuICAgICAgICAgICAgZGF0YS5saWtlcy5wdXNoKGxpa2UpO1xyXG4gICAgICAgICAgICAvL3NhdmUgY2hhbmdlcyB0byBkYlxyXG4gICAgICAgICAgICBkYXRhLnNhdmUoZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHsgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oe21lc3NhZ2U6IFwiQ29tbWVudCBmYWlsZWQgdG8gYWRkLlwiLCBlcnJvcjplcnJ9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbihkYXRhKTtcclxuICAgICAgICAgICAgfSkgIFxyXG4gICAgICAgIH0gXHJcbiAgICB9KVxyXG4gIH07XHJcbiAgXHJcblxyXG4gIFxyXG4gIGNvbnN0IG5ld1VwZGF0ZXM9KHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhyZXEucGFyYW1zLl9pZCk7XHJcbiAgICAgICBhcnRpY2xlcy5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOnJlcS5wYXJhbXMuX2lkfSx7XHJcbiAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgaW1nOnJlcS5ib2R5LmltZyxcclxuICAgICAgICB0aXRsZTpyZXEuYm9keS50aXRsZSxcclxuICAgICAgICBhdXRob3I6cmVxLmJvZHkuYXV0aG9yLFxyXG4gICAgICAgIGFydGljbGVCb2R5OnJlcS5ib2R5LmFydGljbGVCb2R5LFxyXG4gICAgICAgfVxyXG4gICAgfSkudGhlbiAocmVzdWx0PT57XHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe3VwZGF0ZWRfYXJ0aWNsZXM6cmVzdWx0fSlcclxuICAgIFxyXG4gICAgfSkuY2F0Y2goZXJyPT57XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtlcnJvcjplcnJ9KVxyXG4gICAgfSlcclxuICAgIH07XHJcbi8vZXhwb3J0IGNvbnRyb2xsZXIgZnVuY3Rpb25zXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgZ2V0QWxsQXJ0aWNsZXMsIFxyXG4gICAgbmV3QXJ0aWNsZXMsXHJcbiAgICBnZXRPbmVBcnRpY2xlLFxyXG4gICBkZWxldGVPbmVBcnRpY2xlLFxyXG4gICAgbmV3Q29tbWVudCxcclxuICAgIGxpa2VzLFxyXG4gICAgbmV3VXBkYXRlcyxcclxuICAgIFxyXG4gICAgXHJcbn07XHJcbiAgICBcclxuXHJcbiJdfQ==